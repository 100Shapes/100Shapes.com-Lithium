<ohs-meta-group title="Blog: UX &amp; design for broadcast media"
                description="TODO page description">
</ohs-meta-group>

<article>


    <header class="pt++ mb+">
        <div class="wrapper">
            <div class="grid grid-align-center mb+">
                <div class="grid-item sm-1/1 lg-8/12 tc">
                    <h1 view-title class="hv mt++ fg--orange">Blog: UX &amp; design for broadcast media</h1>
                </div>
            </div>
        </div>
    </header>

    <div class="wrapper">
        <div class="grid mb">

            <div class="grid-item 1/1">

                <ohs-mailinglist-signup config="{ slim: true }"
                                        class="mb+">
                </ohs-mailinglist-signup>

            </div>

            <div class="grid-item 1/1 lg-2/3">

                <a href
                   ng-if="!vm.filter.category"
                   class="box-round mb- tc card card--blog"
                   style="background-image: url('{{ ::vm.featured_post.square_image }}');"
                   ui-sref="main.blog.post({ slug:vm.featured_post.slug })">

                    <span class="card__label mb- mt0 h2 fz+ cw dn lg-db">
                        {{ ::vm.featured_post.category }}
                    </span>

                    <h2 class="card__title h3 fz++">
                        {{ ::vm.featured_post.title }}
                    </h2>


                </a>

                <div class="grid">
                    <div class="grid-item 1/1 sm-1/2"
                         ng-repeat="post in vm.posts | filter:vm.filter track by post.guid">

                        <ohs-blogpost-card model="::post">
                        </ohs-blogpost-card>

                    </div>
                </div>


            </div>

            <aside class="grid-item 1/1 lg-1/3">

                <div class="lg-ml">
                    <h2 class="mt0">Categories</h2>

                    <ol class="list-bare">
                        <li ng-repeat="category in ::vm.categories track by category.title">
                            <h3 class="mb--">
                                <a href
                                   ng-click="vm.setCategoryFilter(category.id)"
                                   class="fg--orange">
                                    {{ ::category.title }}
                                </a>
                            </h3>

                            <p class="fg--grey">{{ ::category.description }}</p>
                        </li>
                    </ol>

                    <a href ng-click="vm.clearFilter()"
                       class="fz- dib mt"
                       ng-if="vm.filter.category">
                        Show all posts
                    </a>

                    <ohs-mailinglist-signup class="mt+">

                    </ohs-mailinglist-signup>

                </div>



            </aside>
        </div>
    </div>

</article>
